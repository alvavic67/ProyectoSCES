(this["webpackJsonpweb-administrator"]=this["webpackJsonpweb-administrator"]||[]).push([[0],{104:function(e,a,t){e.exports=t(153)},109:function(e,a,t){},110:function(e,a,t){},153:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),c=t.n(o);t(109),t(110);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(52),l=t(31),s=t(23),u=t.n(s),m=t(33),p=t(20),d=t(194),f=t(190),g=t(203),h=t(191),v=t(40),b=t(80),E=t(188),y=(t(49),t(78)),w="AIzaSyBxcEbnw5ZjevO33SNP8gmZ0hBo6PsSi5I",x={apiKey:"AIzaSyCidy5U6JSR159IaN90AmC0mFNyIZf61fY",authDomain:"sces-4c69c.firebaseapp.com",databaseURL:"https://sces-4c69c.firebaseio.com",projectId:"sces-4c69c",storageBucket:"sces-4c69c.appspot.com",messagingSenderId:"941504175591",appId:"1:941504175591:web:4d2811d3e09290f940b142"},j=t.n(y).a.initializeApp(x),O=(t(51),j.firestore()),k=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),C=function(){var e=k(),a=r.a.useState(""),t=Object(p.a)(a,2),n=t[0],o=t[1],c=r.a.useState(""),i=Object(p.a)(c,2),s=i[0],b=i[1],y=Object(l.e)(),w=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),console.log(s),e.next=4,O.collection("usuarios").where("usuario","==",n).where("password","==",s).get().then((function(e){return e.docs}));case 4:0!=e.sent.length?y.push("/home"):alert("Usuario y/o password incorrectos");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(E.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(v.a,{component:"h1",variant:"h5"},"Log in"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(h.a,{container:!0,spacing:2},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Usuario",name:"email",autoComplete:"email",value:n,onChange:function(e){o(e.target.value)}})),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(g.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",value:s,onChange:function(e){b(e.target.value)}}))),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))},"Entrar")))))},S=t(82),N=t(83),I=t(86),W=t(84),R=t(87),D=t(56),A=j.firestore(),B=function(e){function a(){var e,t;Object(S.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(I.a)(this,(e=Object(W.a)(a)).call.apply(e,[this].concat(r)))).state={locations:[]},t}return Object(R.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this;A.collection("usuarios").onSnapshot((function(a){var t=a.docs.map((function(e){return e.data().coordinates}));t=t.filter((function(e){return void 0!=e})),console.log(t),e.setState({locations:t})}))}},{key:"componentWillMount",value:function(){var e=this;A.collection("usuarios").onSnapshot((function(a){var t=a.docs.map((function(e){return e.data().coordinates}));t=t.filter((function(e){return void 0!=e})),console.log(t),e.setState({locations:t})}))}},{key:"render",value:function(){return r.a.createElement(D.Map,{google:this.props.google,zoom:8,style:{width:"50%",height:"50%"},initialCenter:{lat:21.1761819,lng:-101.6726867}},this.state.locations.map((function(e){return r.a.createElement(D.Marker,{position:{lat:e._lat,lng:e._long}})})))}}]),a}(n.Component),U=Object(D.GoogleApiWrapper)({apiKey:w})(B),L=t(193),z=t(195),G=t(196),M=t(198),T=t(197),J=Object(b.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)}}}));function Z(e){var a=J(),t=r.a.useState(!1),n=Object(p.a)(t,2),o=n[0],c=(n[1],r.a.useState(!1)),i=Object(p.a)(c,2),l=i[0];i[1];return r.a.createElement(h.a,{container:!0,spacing:2},r.a.createElement(h.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,{variant:"h6",className:a.title},e.title),r.a.createElement("div",{className:a.demo},r.a.createElement(L.a,{dense:o},e.usuarios.map((function(e){return r.a.createElement(z.a,null,r.a.createElement(G.a,null,r.a.createElement(T.a,{src:"https://api.adorable.io/avatars/285/alvaro.png"})),r.a.createElement(M.a,{primary:e,secondary:l?"Secondary text":null}))}))))))}var q=t(205),F=t(202),K=t(200),P=t(201),_=t(199),H=t(85),V=t.n(H),Y=j.firestore();function $(e){var a=r.a.useState(""),t=Object(p.a)(a,2),o=t[0],c=t[1],i=Object(n.useState)([]),l=Object(p.a)(i,2),s=l[0];l[1];Object(n.useEffect)(Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.collection("usuarios").get().then((function(e){return e.docs.map((function(e){return e.data()}))}));case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)}))),[]);return r.a.createElement("div",null,r.a.createElement(q.a,{open:e.open,onClose:e.close,"aria-labelledby":"form-dialog-title"},r.a.createElement(_.a,{id:"form-dialog-title"},"Generar Reporte"),r.a.createElement(K.a,null,r.a.createElement(P.a,null,"Selecciona uno de los siguientes reportes semanales"),r.a.createElement(g.a,{id:"filled-select-currency",select:!0,label:"Buscar Reporte Semanal",margin:"normal",fullWidth:!0,variant:"filled",value:o,onChange:function(e){c(e.target.value)}},["Reporte 1","Reporte 2","Reporte 3","Ultimo reporte"].map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(F.a,null,r.a.createElement(d.a,{onClick:e.close,color:"primary"},"Cancelar"),r.a.createElement(d.a,{onClick:function(){return function(){var a=new V.a,t="";a.text("Reportes",20,20),s.forEach((function(e){t+="Nombre: ".concat(e.name,"\nHoras:").concat(e.hours,"\nDia:").concat(e.day,"\nFecha:").concat(e.date,"\n\n")})),a.text(t,15,30),a.save("reporte.pdf"),e.close()}()}},"Aceptar"))))}var Q=j.firestore(),X=Object(b.a)((function(e){return{root:{display:"center",justifyContent:"center"},rightDiv:{position:"absolute",alignItems:"left",align:"right",margin:e.spacing(2,10,2),paddingLeft:"700px"},leftDiv:{alignItems:"right",paddingLeft:"25px",borderRadius:"10px",paddingTop:"25px"}}}));var ee=r.a.createElement(i.a,null,r.a.createElement(l.a,{exact:!0,path:"/",component:C}),r.a.createElement(l.a,{path:"/home",component:function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],o=a[1],c=Object(l.e)();Object(n.useEffect)(Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.collection("usuarios").get().then((function(e){return e.docs.map((function(e){return e.data().usuario}))}));case 2:a=e.sent,console.log(a),o(a);case 5:case"end":return e.stop()}}),e)}))),[]);var i=r.a.useState(!1),s=Object(p.a)(i,2),f=s[0],g=s[1],v=X();return r.a.createElement("div",{className:v.root},r.a.createElement("h1",{style:{paddingLeft:"60px"}},"Dashboard"),r.a.createElement(E.a,{maxWidth:"lg"},r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{style:{paddingTop:"80px"},item:!0,lg:6,sm:6,xs:6,className:v.leftDiv},r.a.createElement(U,{className:"item-map"})),r.a.createElement(h.a,{item:!0,className:v.rightDiv},r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:function(){g(!0)}},"Generar Reporte"),r.a.createElement(d.a,{color:"secondary",variant:"contained",onClick:function(){c.push("/")}},"Cerrar Sesion"),r.a.createElement(Z,{style:{backgroundColor:"red"},title:"Usuarios",className:"item-lista",usuarios:t}))),r.a.createElement($,{open:f,close:function(){g(!1)}})))}}));c.a.render(ee,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[104,1,2]]]);
//# sourceMappingURL=main.5fbb7df9.chunk.js.map